11:21:10.139347 disconnect(0)
11:21:10.139641 server(0) start! log:{Entries:[{Command:<nil> Index:0 Term:0}] StartIndex:0}
11:21:10.140255 disconnect(1)
11:21:10.140352 server(1) start! log:{Entries:[{Command:<nil> Index:0 Term:0}] StartIndex:0}
11:21:10.140541 disconnect(2)
11:21:10.140667 server(2) start! log:{Entries:[{Command:<nil> Index:0 Term:0}] StartIndex:0}
11:21:10.140792 connect(0)
11:21:10.140812 connect(1)
11:21:10.140826 connect(2)
Test (2D): install snapshots (unreliable+crash) ...
11:21:10.190444 server(0) is not dead lock
11:21:10.190515 server(0) is alive
11:21:10.191664 server(1) is not dead lock
11:21:10.191690 server(2) is not dead lock
11:21:10.191713 server(2) is alive
11:21:10.191726 server(1) is alive
11:21:10.240973 server(0) is not dead lock
11:21:10.241009 server(0) is alive
11:21:10.242153 server(1) is alive
11:21:10.242231 server(2) is alive
11:21:10.242256 server(1) is not dead lock
11:21:10.242296 server(2) is not dead lock
11:21:10.290207 server(1) become candidate of term1 because of time out!
11:21:10.291765 server(0) is not dead lock
11:21:10.291828 server(0) is alive
11:21:10.293174 server(2) is alive
11:21:10.293209 server(1) is not dead lock
11:21:10.293256 server(1) is alive
11:21:10.293303 server(2) is not dead lock
11:21:10.294973 server(2) get RequestVoteArgs({Term:1 CandidateId:1 LastLogIndex:0 LastLogTerm:0}) from candidate(1)
11:21:10.295117 server(2) become follower
11:21:10.295220 args(&{Term:1 CandidateId:1 LastLogIndex:0 LastLogTerm:0}) is more new than term:0 index:0
11:21:10.295575 candidate(1) get reply(&{Term:1 VoteGranted:true}) from server(2)
11:21:10.295619 candidate(1) get vote from server(2)
11:21:10.295643 lastIndex:0, index0:0, nextIndex:[1 1 1], matchIndex:[0 0 0]
11:21:10.295691 candidate(1) become leader of term1
11:21:10.305359 server(0) become candidate of term1 because of time out!
11:21:10.312636 server(0) get RequestVoteArgs({Term:1 CandidateId:1 LastLogIndex:0 LastLogTerm:0}) from candidate(1)
11:21:10.312922 candidate(1) get reply(&{Term:1 VoteGranted:false}) from server(0)
11:21:10.327897 server(2) get RequestVoteArgs({Term:1 CandidateId:0 LastLogIndex:0 LastLogTerm:0}) from candidate(0)
11:21:10.328192 candidate(0) get reply(&{Term:1 VoteGranted:false}) from server(2)
11:21:10.341897 server(0) is not dead lock
11:21:10.341897 server(0) is alive
11:21:10.344409 server(1) is alive
11:21:10.344489 server(1) is not dead lock
11:21:10.344522 server(2) is alive
11:21:10.344533 server(2) is not dead lock
11:21:10.393077 server(0) is not dead lock
11:21:10.393173 server(0) is alive
11:21:10.395594 server(1) is alive
11:21:10.395697 server(2) is not dead lock
11:21:10.395730 server(1) is not dead lock
11:21:10.395761 server(2) is alive
11:21:10.395777 leader(1) beat heart
11:21:10.395866 lastIndex:0, index0:0, nextIndex:[1 1 1], matchIndex:[0 0 0]
11:21:10.395995 leader(1) update log of server(0)
11:21:10.396052 leader(1) update log of server(2)
11:21:10.399907 server(2) get AppendEntriesMsg, args:&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[] LeaderCommit:0}, server.lastIndex: 0, lastTerm:0
11:21:10.443662 server(0) is alive
11:21:10.443738 server(0) is not dead lock
11:21:10.446247 server(2) is not dead lock
11:21:10.446371 server(2) is alive
11:21:10.446379 server(1) is alive
11:21:10.446597 =====Start!=====  cmd:6685316707319651479(index:1)
11:21:10.446654 lastIndex:1, index0:0, nextIndex:[1 2 1], matchIndex:[0 1 0]
11:21:10.446821 server(1) is not dead lock
11:21:10.446888 leader(1) update log of server(2)
11:21:10.446917 leader(1) update log of server(0)
11:21:10.471771 server(2) get AppendEntriesMsg, args:&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Command:6685316707319651479 Index:1 Term:1}] LeaderCommit:0}, server.lastIndex: 0, lastTerm:0
11:21:10.471958 server(2) new log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.472240 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:0 ConflictMaxIndex:0 Term:1 Success:true} from server(2)
11:21:10.472284 matchIndex[2]:1 nextIndex[2]:2
11:21:10.472376 server(1) apply entry, lastApplied:0 log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.472451 applierSnap(1) get msg:{CommandValid:true Command:6685316707319651479 CommandIndex:1 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
11:21:10.494472 server(0) is not dead lock
11:21:10.494553 server(0) is alive
11:21:10.496887 leader(1) beat heart
11:21:10.496956 lastIndex:1, index0:0, nextIndex:[1 2 2], matchIndex:[0 1 1]
11:21:10.496990 server(1) is alive
11:21:10.497045 leader(1) update log of server(2)
11:21:10.497071 server(2) is not dead lock
11:21:10.497096 server(2) is alive
11:21:10.497074 leader(1) update log of server(0)
11:21:10.497062 server(1) is not dead lock
11:21:10.523869 server(2) get AppendEntriesMsg, args:&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}, server.lastIndex: 1, lastTerm:1
11:21:10.523958 server(2) new log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.524070 server(2) apply entry, lastApplied:0 log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.524145 applierSnap(2) get msg:{CommandValid:true Command:6685316707319651479 CommandIndex:1 SnapshotValid:false Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
11:21:10.524324 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:0 ConflictMaxIndex:0 Term:1 Success:true} from server(2)
11:21:10.524347 matchIndex[2]:1 nextIndex[2]:2
11:21:10.545330 server(0) is not dead lock
11:21:10.545360 server(0) is alive
11:21:10.547618 server(1) is alive
11:21:10.547658 server(1) is not dead lock
11:21:10.547733 server(2) is not dead lock
11:21:10.547822 server(2) is alive
11:21:10.550593 server(0) become candidate of term2 because of time out!
11:21:10.557496 server(2) get RequestVoteArgs({Term:2 CandidateId:0 LastLogIndex:0 LastLogTerm:0}) from candidate(0)
11:21:10.557644 server(2) become follower
11:21:10.557965 candidate(0) get reply(&{Term:2 VoteGranted:false}) from server(2)
11:21:10.596416 server(0) is not dead lock
11:21:10.596489 server(0) is alive
11:21:10.597718 leader(1) beat heart
11:21:10.597761 lastIndex:1, index0:0, nextIndex:[1 2 2], matchIndex:[0 1 1]
11:21:10.597800 server(1) is not dead lock
11:21:10.597819 server(1) is alive
11:21:10.597805 leader(1) update log of server(2)
11:21:10.597814 server(2) is not dead lock
11:21:10.597820 leader(1) update log of server(0)
11:21:10.597974 server(2) is alive
11:21:10.606711 server(0) get AppendEntriesMsg, args:&{Term:1 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Command:6685316707319651479 Index:1 Term:1}] LeaderCommit:1}, server.lastIndex: 0, lastTerm:0
11:21:10.607367 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:0 ConflictMaxIndex:0 Term:2 Success:false} from server(0)
11:21:10.607595 leader(1) become follower of term2 because AppendEntriesReply(&{ConflictTerm:0 ConflictMinIndex:0 ConflictMaxIndex:0 Term:2 Success:false}) of server(0)
11:21:10.609760 server(1) become candidate of term3 because of time out!
11:21:10.613737 server(2) get RequestVoteArgs({Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:1}) from candidate(1)
11:21:10.613891 server(2) become follower
11:21:10.614000 args(&{Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:1}) is more new than term:1 index:1
11:21:10.614314 candidate(1) get reply(&{Term:3 VoteGranted:true}) from server(2)
11:21:10.614339 candidate(1) get vote from server(2)
11:21:10.614387 lastIndex:1, index0:0, nextIndex:[2 2 2], matchIndex:[0 1 0]
11:21:10.614429 server(0) get RequestVoteArgs({Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:1}) from candidate(1)
11:21:10.614539 server(0) become follower
11:21:10.614441 candidate(1) become leader of term3
11:21:10.614661 args(&{Term:3 CandidateId:1 LastLogIndex:1 LastLogTerm:1}) is more new than term:0 index:0
11:21:10.615094 candidate(1) get reply(&{Term:3 VoteGranted:true}) from server(0)
11:21:10.615366 server(2) get AppendEntriesMsg, args:&{Term:1 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}, server.lastIndex: 1, lastTerm:1
11:21:10.615672 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:0 ConflictMaxIndex:0 Term:3 Success:false} from server(2)
11:21:10.647170 server(0) is not dead lock
11:21:10.647236 server(0) is alive
11:21:10.648489 server(2) is alive
11:21:10.648605 server(1) is not dead lock
11:21:10.648699 server(1) is alive
11:21:10.648797 server(2) is not dead lock
11:21:10.698433 leader(1) beat heart
11:21:10.698503 server(0) is alive
11:21:10.698539 server(2) is alive
11:21:10.698540 lastIndex:1, index0:0, nextIndex:[2 2 1], matchIndex:[0 1 0]
11:21:10.698599 leader(1) update log of server(0)
11:21:10.698545 server(0) is not dead lock
11:21:10.698792 leader(1) update log of server(2)
11:21:10.698803 server(1) is not dead lock
11:21:10.698855 server(1) is alive
11:21:10.698941 server(2) is not dead lock
11:21:10.714575 leader(1) beat heart
11:21:10.714657 lastIndex:1, index0:0, nextIndex:[2 2 1], matchIndex:[0 1 0]
11:21:10.714723 leader(1) update log of server(0)
11:21:10.714739 leader(1) update log of server(2)
11:21:10.720399 server(0) get AppendEntriesMsg, args:&{Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}, server.lastIndex: 0, lastTerm:0
11:21:10.720698 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:1 ConflictMaxIndex:0 Term:3 Success:false} from server(0)
11:21:10.725709 server(2) get AppendEntriesMsg, args:&{Term:3 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Command:6685316707319651479 Index:1 Term:1}] LeaderCommit:1}, server.lastIndex: 1, lastTerm:1
11:21:10.725757 server(2) new log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.725929 server(0) get AppendEntriesMsg, args:&{Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}, server.lastIndex: 0, lastTerm:0
11:21:10.725995 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:0 ConflictMaxIndex:0 Term:3 Success:true} from server(2)
11:21:10.726020 matchIndex[2]:1 nextIndex[2]:2
11:21:10.726386 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:1 ConflictMaxIndex:0 Term:3 Success:false} from server(0)
11:21:10.738551 server(2) get AppendEntriesMsg, args:&{Term:3 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Command:6685316707319651479 Index:1 Term:1}] LeaderCommit:1}, server.lastIndex: 1, lastTerm:1
11:21:10.738618 server(2) new log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.738915 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:0 ConflictMaxIndex:0 Term:3 Success:true} from server(2)
11:21:10.738937 matchIndex[2]:1 nextIndex[2]:2
11:21:10.749494 server(1) is not dead lock
11:21:10.749531 server(0) is not dead lock
11:21:10.749564 server(1) is alive
11:21:10.749538 server(2) is alive
11:21:10.749541 server(0) is alive
11:21:10.749559 server(2) is not dead lock
11:21:10.798862 leader(1) beat heart
11:21:10.798958 lastIndex:1, index0:0, nextIndex:[0 2 2], matchIndex:[0 1 1]
11:21:10.798979 leader(1) update snapshot of server(0), nextIndex:0, IndexStart:0
11:21:10.799043 leader(1) update log of server(2)
11:21:10.799100 leader(1) send snapshot to server(0)
11:21:10.799578 server(0) get InstallSnapshotRPC from leader(1)
11:21:10.799615 args:&{Term:3 LeaderId:1 LastIncludedIndex:0 LastIncludedTerm:0 Offset:0 Data:[] Done:true}
11:21:10.799720 install snapshot ,new log:{Entries:[{Command:<nil> Index:0 Term:0}] StartIndex:0}
11:21:10.799809 server(0) is not dead lock
11:21:10.799831 server(2) is not dead lock
11:21:10.799842 server(1) is alive
11:21:10.799843 server(1) is not dead lock
11:21:10.799849 server(0) is alive
11:21:10.799854 server(2) is alive
11:21:10.814748 server(2) get AppendEntriesMsg, args:&{Term:3 LeaderId:1 PrevLogIndex:1 PrevLogTerm:1 Entries:[] LeaderCommit:1}, server.lastIndex: 1, lastTerm:1
11:21:10.814847 server(2) new log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.815018 leader(1) beat heart
11:21:10.815056 lastIndex:1, index0:0, nextIndex:[1 2 2], matchIndex:[0 1 1]
11:21:10.815091 leader(1) update log of server(2)
11:21:10.815207 leader(1) update log of server(0)
11:21:10.815464 leader(1) get appendEntriesReply:&{ConflictTerm:0 ConflictMinIndex:0 ConflictMaxIndex:0 Term:3 Success:true} from server(2)
11:21:10.815526 matchIndex[2]:1 nextIndex[2]:2
11:21:10.818317 server(0) get AppendEntriesMsg, args:&{Term:3 LeaderId:1 PrevLogIndex:0 PrevLogTerm:0 Entries:[{Command:6685316707319651479 Index:1 Term:1}] LeaderCommit:1}, server.lastIndex: 0, lastTerm:0
11:21:10.818513 server(0) new log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.818586 server(0) apply snapshot, lastApplied:0 log:{Entries:[{Command:<nil> Index:0 Term:0} {Command:6685316707319651479 Index:1 Term:1}] StartIndex:0}
11:21:10.818641 applierSnap(0) get msg:{CommandValid:false Command:<nil> CommandIndex:0 SnapshotValid:true Snapshot:[] SnapshotTerm:0 SnapshotIndex:0}
11:21:10.818661 snapshot decode error
exit status 1
FAIL	6.824/raft	0.693s
